var pyproxy_debug_mode=false;(function(a){debug=function(b){if(pyproxy_debug_mode){console.log(b)}};a.pyproxy_form_to_dict=function(c){var b=a(c+" :input");var g={};for(i=0;i<b.length;i++){var d=b[i];var f=false;var e=String(d.name);if(a(d).hasClass("pyproxyIgnore")){continue}if(d.type=="radio"){if(d.checked){f=true}}else{if(d.type=="checkbox"){if(d.checked){if(!(e in g)){g[e]=[]}g[e][g[e].length]=a(d).val()}}else{f=true}}if(f){g[e]=a(d).val()}}return g};a.pyproxy_process_data=function(b,c){for(i=0;i<b.length;i++){command=b[i];selector=a(command.selector);meth=a(command.selector)[command.call];meth.apply(selector,command.args)}if(typeof(c)=="function"){c(b)}};a.pyproxy_call=function(c,d,e){var b="";if(typeof(d)=="undefined"){d={}}else{if(typeof(d)=="string"){b=d;d=a.pyproxy_form_to_dict(b)}else{if(typeof(d)=="function"){e=d;d={}}}}return a.ajax({type:"POST",url:c,data:d,success:function(f){a.pyproxy_process_data(f,e)},dataType:"json"})};a.fn.pyproxy=function(c,b,d,e){make_call=function(f){f.preventDefault();a.pyproxy_call(b,d,e)};debug("Binded event '"+c+"' on '"+this.selector+"' to call '"+b+"'");return this.live(c,make_call)}})(jQuery);